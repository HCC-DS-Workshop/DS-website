<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.475">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Your Name Here">
<meta name="dcterms.date" content="2023-05-23">

<title>Intro Stats with R - LAB ACTIVITY: R Workshop Day 1</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Intro Stats with R</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../Resources.html">
 <span class="menu-text">Resources</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://hcc-rstudiosrv1.hcc.edu:8787/auth-sign-in">
 <span class="menu-text">R</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/HCC-R-Workshop/R-workshop-website"><i class="bi bi-github" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://drive.google.com/drive/folders/1ubYbrOS4eAG7QXU03IsgkVAYX03AULGk?usp=share_link"><i class="bi bi-files" role="img">
</i> 
 <span class="menu-text"></span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">LAB ACTIVITY: R Workshop Day 1</h1>
<p class="subtitle lead">Categorial Variables, Scatterplots, Correlation</p>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Your Name Here </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">May 23, 2023</p>
    </div>
  </div>
  
    
  </div>
  

</header>

<p>There is a data frame called <strong>penguins</strong> inside a package called <strong>palmerpenguins.</strong> In the console, you can use the view() function to open this data frame in a new tab.</p>
<p>Please insert code chunks below each question.</p>
<p>Use the <strong>names()</strong> function to list all the variables in this data.</p>
<section id="part-1.-categorical-variables" class="level1">
<h1>PART 1. CATEGORICAL VARIABLES</h1>
<p>In your view(penguins) tab, see that there are two categorical variables: species and island.</p>
<p><strong>SPECIES</strong><br>
Use the <strong>tally()</strong> function to count how many penguins of each species are in this data.</p>
<p>Let’s make visualizations of the above table.</p>
<p>Use <strong>gf_counts()</strong> to make a bar plot of the different species. Use color and fill commands to make it more visually appealing!</p>
<p>Use the <strong>mosaic()</strong> function to make a mosaic plot of the species variable.</p>
<p><strong>ISLAND</strong><br>
Use the <strong>tally()</strong> function to find out the penguin count on each island for this data set. <em>BE CAREFUL! Do not click “islands” suggestion! That is the name of different data set that RStudio is recognizing!</em></p>
<p>Let’s make visualizations of the above table.</p>
<p>Use <strong>gf_props()</strong> to make a bar plot of the island variable. Use color and fill commands to make it more visually appealing!</p>
<p>Use the <strong>mosaic()</strong> function to make a mosaic plot of the island variable.</p>
<p><strong>SPECIES ON EACH ISLAND</strong></p>
<p>Use the tally() function to count the number of each different species on each of the different islands. (This is a <em>2-by-2 contingency table!</em>)</p>
<div class="cell">

</div>
<p>Intepret the values in the above table. Which species/island combination is most represented in this data? What do the zeros mean?</p>
<p>Let’s make visualizations of the above table.</p>
<p>Use <strong>gf_percents()</strong> to make a bar plot of the different species and <em>fill =</em> to color each bar according the island variable. This allow us to see for each species, how many came from each island.</p>
<p>Use the <strong>mosaic()</strong> function to make one mosaic plot of the species and island variables together.</p>
<p>For an extra challenge, let’s try adding color.<br>
Use the <em>highlighting</em> argument to specify a variable to highlight with variable name in quotes.<br>
For example, <strong>highlighting = “species”</strong>.<br>
Use the <em>highlighting_fill</em> argument to specify your colors. In this case, three colors are needed.<br>
For example, highlighting_fill = c(“color1”, “color2”, “color3”) Insert your color names inside quotes!</p>
</section>
<section id="part-2.-two-numerical-variables---scatterplots-and-correlation." class="level1">
<h1>PART 2. TWO NUMERICAL VARIABLES - SCATTERPLOTS AND CORRELATION.</h1>
<p>It seems plausible that, regardless of species, penguins with larger body mass could also have longer flippers and a longer bill. Let’s make scatterplots for each of these variables to examine their relationship with body mass. And from the graphs, we will consider which of these two variables seems to be more highly correlated with body mass.</p>
<p>First, make a scatterplot with bill length on the y-axis, body mass on the x-axis. (Make sure you get the correct variable names! Use the names() function or go look at the data frame! And remember y-axis variable goes first inside the function as y ~ x). Be sure to include the straight trend line to your plot with *<strong>geom_lm()</strong>.</p>
<p>Next, make a scatterplot with flipper length on the y-axis, body mass on the x-axis. Be sure to include the straight trend line to your plot with *<strong>geom_lm()</strong>.</p>
<p>From these two scatterplots, do you see a linear relationship? You should! Does bill length or flipper length appear to be more highly correlated with body mass or do they look about the same? In other words, do the points appear more closely clustered around the straight line in one of the scatterplots?</p>
<p>Let’s confirm what we see by finding the correlation statistic. There is missing data so include the argument <strong>use = “complete”</strong></p>
<p>Compute the Correlation statistic for bill length and body mass.</p>
<p>Compute the Correlation statistic for flipper length and body mass.</p>
<p>Pipe %&gt;% from the penguins data into the select function to select all 4 numerical variables. Store these into a variable called pen_vars and then apply the cor() function to this variable.<br>
pen_vars &lt;-penguins %&gt;% select(.,.,.,.)</p>
<p>Save the correlations in a variable called pen_cor.<br>
Then apply corrplot() to this variable.</p>
<p>With corrplot, try using the argument <em>method = “number”</em>.<br>
Check help menu with ?corrplot to see other options for this method.</p>
<hr>
</section>
<section id="part-3.-fun-challenge" class="level1">
<h1>PART 3. FUN CHALLENGE!</h1>
<section id="multivariable-scatterplot" class="level3">
<h3 class="anchored" data-anchor-id="multivariable-scatterplot">MULTIVARIABLE SCATTERPLOT</h3>
<p>Choose one of the scatterplots above and try to map as many variables as you can to the plot. Can you get 6 of the 8 variables onto the plot?</p>
</section>
</section>
<section id="part-4.-optional-if-you-finish-early---practice-day-1-topics" class="level1">
<h1>PART 4. OPTIONAL If you finish early! - Practice Day 1 Topics!</h1>
</section>
<section id="one-numerical-variable-one-categorical-variable" class="level1">
<h1>ONE NUMERICAL VARIABLE, ONE CATEGORICAL VARIABLE</h1>
<p>Earlier, we made comparative side-by-side boxplots using the <strong>county</strong> data. We did this by taking the numerical variable of poverty rates (called <strong>poverty</strong>) separating the poverty rates into two groups based on the “yes or no” levels of the categorical variable <strong>metro</strong>. Recall that metro was “yes” if county has a large urban metro area) or “no” (county does not have a large urban metro area.)<br>
The code we used for this is given below:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">gf_boxplot</span>(poverty <span class="sc">~</span> metro, <span class="at">data =</span> county)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output-display">
<p><img src="LAB_WSDay1_Categorical_Data_Scatterplots_Correlation-copy_files/figure-html/unnamed-chunk-2-1.png" class="img-fluid" width="672"></p>
</div>
</div>
<p>Use this same idea to make comparative side-by-side boxplots of the numerical variable called <strong>body_mass_g</strong> which gives the weight of the penguins in grams.</p>
<p>Which penguin species has the largest median weight? Did any species have outliers? Which species has the smallest IQR (DO you remember how to see IQR in a boxplot?) Do any species data show skew? Symmetric?</p>
<p>Use the same technique above with <strong>favstats()</strong> to find all the major summary statistics of <strong>body_mass_g</strong> for all three species using just one line of code! Be careful of the order of the variables! What happens if you reverse them? (Notice in the output that there is missing data.)</p>
<p>Use the same technique above to compute IQR for each species. Again, be careful of the order of the variables!You need to use an argument to remove missing data.</p>
<p>Which species has the least variability in the middle 50%? Does this agree with what you saw in the side-by-side boxplots?</p>
<p>Make a histogram of body mass faceted by species and also colored by species.</p>
</section>
<section id="part-5.-optional-homework" class="level1">
<h1>PART 5. OPTIONAL HOMEWORK!</h1>
<section id="finish-the-activity-above-if-you-have-not-done-so-already." class="level3">
<h3 class="anchored" data-anchor-id="finish-the-activity-above-if-you-have-not-done-so-already.">1) Finish the activity above if you have not done so already.</h3>
</section>
<section id="andor" class="level3">
<h3 class="anchored" data-anchor-id="andor">AND/OR</h3>
</section>
<section id="repeat-some-of-the-same-analyses-on-a-different-data-frame-as-decribed-below." class="level3">
<h3 class="anchored" data-anchor-id="repeat-some-of-the-same-analyses-on-a-different-data-frame-as-decribed-below.">2) Repeat some of the same analyses on a different data frame as decribed below.</h3>
<p>In the <strong>mdsr</strong> package, there is a data frame called HELPrct. The HELP study was a clinical trial for adult inpatients recruited from a detoxification unit. In the console, type ?HELPrct to learn more.</p>
<p>Use categorical variables substance, homeless, sex and numerical variables cesd (measure of depressive symptoms, higher scores indicate more symptoms) and mcs (mental component score, higher scores indicate better functioning). Experiment with tally, bar plots, mosaic plots, scatterplots of cesd and mcs, correlation, etc.</p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item">
    <a class="nav-link" href="../../credits.html">credits</a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>